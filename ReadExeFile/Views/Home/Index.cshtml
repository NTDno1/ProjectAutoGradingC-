@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using DataAccess.Models
@{
    var studentTotalMarks = ViewBag.StudentTotalMarks as Dictionary<string, double>;
}
@{
    var listUsers = ViewBag.listUsers as List<User>;
    var checkClass = ViewBag.data as String;
}
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Trang chủ</title>
</head>
<body>
    <div class="header">
        <a href="#" class="logo">Logo</a>
        <div class="navigation">
            <a href="#">Home</a>
            <a href="#">Sản phẩm</a>
            <a href="#">Đăng nhập</a>
            <a href="#">Đăng xuất</a>
        </div>
    </div>

    <div class="content">
        <form asp-action="GetUser" method="post">
            <div class="form-group">
                <label for="username">Foder</label>
                <input name="Foder" type="text" id="username" placeholder="Foder">
            </div>
            <div class="form-group">
                <label for="password">TestCase</label>
                <input name="TestCase" type="text" id="password" placeholder="TestCase">
            </div>
            <div class="button-container">
                <button class="submit-button" type="submit">Submit</button>
            </div>
        </form>
    </div>
    @if (checkClass != null)
    {
        <span>Lớp Học Đã Hoàn Thành Bài Kiểm Tra: @checkClass</span>
    }
    @if (checkClass == null)
    {
        @if (ViewBag.list != null)
        {
            string a = "";
            string b = "";
            <form id="myForm" asp-action="AddToDataBase" method="post">
                <table>
                    <tr>
                        <th>StudentName</th>
                        <th>QuestionNo</th>
                        <th>InputTestCase</th>
                        <th>OutputTestCase</th>
                        <th>Mark</th>
                        <th>OutPut</th>
                        <th>TotalMark</th>
                    </tr>
                    @foreach (Solution item in ViewBag.list)
                    {
                        <tr>
                            <td>
                                @if (a != item.StuName)
                                {
                                    <span class="student-name">@item.StuName</span>
                                }
                            </td>
                            <td>
                                @if (b != item.Question)
                                {
                                    <span class="question-no">@item.Question</span>
                                }
                            </td>
                            <td><span class="input-test-case">@item.InputTestCase</span></td>
                            <td><span class="output-test-case">@item.OutputTestCase</span></td>
                            <td><span class="mark">@item.Mark</span></td>
                            <td><span class="output-test-case">@item.OutPut</span></td>
                            @if (a != item.StuName)
                            {
                                @foreach (var mark in studentTotalMarks)
                                {
                                    if (mark.Key == item.StuName)
                                    {
                                        <td><span class="total-mark">@mark.Value</span></td>
                                        break;
                                    }
                                }
                            }
                        </tr>
                        a = item.StuName;
                        b = item.Question;
                    }
                    @foreach (var student in listUsers)
                    {
                        <tr>
                            <td>
                                <input type="hidden" name="UserName" value="aa" />
                                <span style="color: black;">@student.UserName: không nộp bài Hoặc File Không đúng định dạng</span>
                            </td>
                            <td>
                                <input type="hidden" name="questionNos" value="" />
                            </td>
                            <td><span style="color: red;">Nhập InputTestCase</span></td>
                            <td><span style="color: green;">Nhập OutputTestCase</span></td>
                            <td><span style="color: red;">Nhập Mark</span></td>
                            <td><span style="color: blue;">Nhập Output</span></td>
                        </tr>
                    }

                </table>

                <div class="button-container">

                    <button class="submit-button" type="submit">Submit</button>

                </div>

            </form>
        }
    }


</body>
</html>
<script>
    // JS cho nút Submit
    var submitButton = document.querySelector('.submit-button');
    submitButton.addEventListener('mouseover', function () {
        this.style.backgroundColor = '#555';
        this.style.color = '#fff';
    });
    submitButton.addEventListener('mouseout', function () {
        this.style.backgroundColor = '#4CAF50';
        this.style.color = '#fff';
    });
</script>

<style>
    /* CSS cho header */
    .header {
        background-color: #f2f2f2;
        padding: 10px;
        text-align: center;
    }

    .logo {
        color: #333;
        font-size: 24px;
        text-decoration: none;
    }

    .navigation a {
        margin-right: 10px;
        color: #333;
        text-decoration: none;
    }

    /* CSS cho form */
    .form-group {
        margin-bottom: 10px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input[type="text"],
    input[type="number"] {
        width: 100%;
        padding: 5px;
    }

    button[type="submit"] {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
    }

    /* CSS cho table */
    table {
        width: 100%;
        border-collapse: collapse;
    }

    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    .button-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

    .submit-button {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
    }

    /* Customize text colors */
    span.student-name {
        color: black; /* Chữ màu đen cho StudentName */
    }

    span.question-no {
        color: yellow; /* Chữ màu vàng cho QuestionNo */
    }

    span.input-test-case {
        color: red; /* Chữ màu đỏ cho InputTestCase */
    }

    span.output-test-case {
        color: green; /* Chữ màu xanh lục cho OutputTestCase */
    }

    span.mark {
        color: red; /* Chữ màu đỏ cho Mark */
    }

    span.total-mark {
        color: red; /* Chữ màu đỏ cho TotalMark */
    }
</style>